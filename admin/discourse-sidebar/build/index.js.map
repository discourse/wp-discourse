{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./src/index.js","webpack:///external [\"wp\",\"element\"]"],"names":["__","wp","i18n","editPost","PluginSidebar","PluginSidebarMoreMenuItem","components","PanelBody","TextControl","element","Component","Fragment","withSelect","data","compose","registerPlugin","plugins","el","createElement","iconEl","width","height","src","pluginOptions","logo","class","buttonClass","activeButtonClass","downArrow","upArrow","tagsFilterRegExp","Notification","props","forcePublish","published","statusMessage","publishingError","discoursePermalink","ForcePublishMessage","StatusMessage","ErrorMessage","message","DiscoursePermalink","permalink","encodeURI","link","PublishingOptions","handleChange","bind","e","handlePublishMethodChange","target","value","publishingMethod","PublishToDiscourse","handleToBePublishedChange","handlePublishChange","checked","publishToDiscourse","publishedOnWordPress","postStatus","busy","CategorySelect","handleCategoryChange","discourseCategories","cats","Object","values","options","map","cat","id","parseInt","category_id","name","categoryError","LinkToDiscourseTopic","state","isBusy","topicUrl","handleClick","setState","handleLinkTopicClick","UnlinkFromDiscourse","showPanel","togglePanel","handleUnlinkFromDiscourseChange","UpdateDiscourseTopic","handleUpdateChange","TagTopic","chosenTags","tags","inputContent","inputLength","maxTagsExceeded","handleKeyPress","focusInput","tagInput","focus","val","length","keyVal","key","currentChoices","maxTags","cleanTag","push","sanitizeArray","handleTagChange","trim","replace","RegExp","index","indexOf","splice","allowTags","maxTagsNotice","tagDisplay","tag","input","arr","sort","reduce","accumulator","current","PinTopic","pinTopic","pinUntil","handleUpdateDate","handleToBePinnedChange","handlePinChange","DiscourseSidebar","initializePostState","post","getDiscourseCategories","prevProps","isAllowedPostType","publishedPostHasChanged","updatePostState","prev","meta","status","every","s","some","attr","autoPublish","publishPostCategory","defaultCategory","topicTags","discoursePostId","busyUnlinking","busyUpdating","busyLinking","busyPublishing","assign","buildPostState","wpdc_topic_tags","split","postState","determinePublishToDiscourse","discourse_post_id","wpdc_pin_topic","publish_post_category","wpdc_pin_until","discourse_permalink","wpdc_publishing_error","autoPublishOverridden","wpdc_auto_publish_overridden","includes","wpdc_publish_to_discourse","pluginUnconfigured","apiRequest","path","method","get_categories_nonce","postId","then","err","allowedPostTypes","type","set_publish_meta_nonce","publish_to_discourse","categoryId","set_category_meta_nonce","set_pin_meta_nonce","tagString","join","set_tag_meta_nonce","link_topic_nonce","topic_url","responseJSON","unlink_post_nonce","publish_topic_nonce","success","publish_response","update_topic_nonce","response","update_response","isPublished","actions","HOC","select","forceIsSaving","getCurrentPostId","getCurrentPost","icon","render"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACPA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACTA,qBAAqB,mBAAO,CAAC,oFAAqB;;AAElD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,6E;;;;;;;;;;;AClBA,cAAc,mBAAO,CAAC,sFAA+B;;AAErD,4BAA4B,mBAAO,CAAC,kGAA4B;;AAEhE;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACXA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,6E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/*jshint esversion: 6*/\n/**\n * Internal block libraries.\n */\n\nconst { __ } = wp.i18n;\n\nconst {\n    PluginSidebar,\n    PluginSidebarMoreMenuItem\n} = wp.editPost;\n\nconst {\n    PanelBody,\n    TextControl\n} = wp.components;\n\nconst {\n    Component,\n    Fragment\n} = wp.element;\n\nconst { withSelect } = wp.data;\n\nconst { compose } = wp.compose;\n\nconst { registerPlugin } = wp.plugins;\n\nconst el = wp.element.createElement;\n\n// See: https://wp.zacgordon.com/2017/12/07/how-to-add-custom-icons-to-gutenberg-editor-blocks-in-wordpress/\nconst iconEl = el( 'img', {\n    width: 20,\n    height: 20,\n    src: pluginOptions.logo,\n    class: 'wpdc-logo'\n});\n\nconst buttonClass = 'components-button is-button is-default is-primary is-large wpdc-button';\nconst activeButtonClass = 'components-button is-button is-default is-primary is-large wpdc-button active';\nconst downArrow = ( <svg\n    className={ 'components-panel__arrow' } width='24px' height='24px' viewBox='0 0 24 24'\n    xmlns='http://www.w3.org/2000/svg' role='img' aria-hidden='true' focusable='false'>\n    <g>\n        <path fill={ 'none' } d={ 'M0,0h24v24H0V0z' }/>\n    </g>\n    <g>\n        <path d={ 'M7.41,8.59L12,13.17l4.59-4.58L18,10l-6,6l-6-6L7.41,8.59z' }/>\n    </g>\n</svg> );\n\nconst upArrow = ( <svg\n    className={ 'components-panel__arrow' } width='24px' height='24px' viewBox='0 0 24 24'\n    xmlns='http://www.w3.org/2000/svg' role='img' aria-hidden='true' focusable='false'>\n    <g>\n        <path fill={ 'none' } d={ 'M0,0h24v24H0V0z' }/>\n    </g>\n    <g>\n        <path d={ 'M12,8l-6,6l1.41,1.41L12,10.83l4.59,4.58L18,14L12,8z' }/>\n    </g>\n</svg> );\n\nconst tagsFilterRegExp = /[\\/\\?#\\[\\]@!\\$&'\\(\\)\\*\\+,;=\\.%\\\\`^\\s|\\{\\}\"<>]+/;\n\nclass Notification extends Component {\n    constructor( props ) {\n        super( props );\n    }\n\n    render() {\n        return (\n            <div>\n                <ForcePublishMessage forcePublish={this.props.forcePublish} published={this.props.published}/>\n                <StatusMessage statusMessage={this.props.statusMessage}/>\n                <ErrorMessage publishingError={this.props.publishingError}/>\n                <DiscoursePermalink discoursePermalink={this.props.discoursePermalink}/>\n            </div>\n        );\n    }\n}\n\nclass ForcePublishMessage extends Component {\n    constructor( props ) {\n        super( props );\n    }\n\n    render() {\n        if ( this.props.forcePublish && !this.props.published ) {\n            return (\n                <p className={ 'wpdc-force-publish-message' }>\n                    { __( 'The Force Publish option is enabled for your site. All posts published on WordPress will be automatically published to Discourse.', 'wp-discourse' ) }\n                </p>\n\n            );\n        } else {\n            return '';\n        }\n    }\n}\n\nclass StatusMessage extends Component {\n    constructor( props ) {\n        super( props );\n    }\n\n    render() {\n        const statusMessage = this.props.statusMessage;\n\n        if ( statusMessage ) {\n            return (\n                <div className={ 'wpdc-publishing-response success' }>{ statusMessage }</div>\n            );\n        }\n        return '';\n    }\n}\n\nclass ErrorMessage extends Component {\n    constructor( props ) {\n        super( props );\n    }\n\n    render() {\n        const publishingError = this.props.publishingError;\n\n        if ( publishingError ) {\n            let message;\n            switch ( publishingError ) {\n                case 'deleted_topic':\n                    message = __( 'Your post could not be published to Discourse. The associated Discourse topic may have been deleted. ' +\n                        'Unlink the post so that it can be published again.', 'wp-discourse' );\n                    break;\n                case 'Not Found':\n                    message = __( 'Your post could not be updated on Discourse. The associated Discourse topic may have been deleted. ' +\n                        'Unlink the post so that it can be published again.', 'wp-discourse' );\n                    break;\n                case 'queued_topic':\n                    message = __( 'Your post has been added to the Discourse approval queue. When it has been approved, you will need to link it to Discourse by' +\n                        'selecting the \\'Link to Existing Topic\\' option.', 'wp-discourse' );\n                    break;\n                case 'Unprocessable Entity':\n                    message = __( 'Your post could not be published to Discourse. There may be an existing Discourse topic that is using its permalink. Try linking the post with that topic.', 'wp-discourse' );\n                    break;\n                case 'Forbidden':\n                    message = __( 'Your post could not be published to Discourse. Check that your Discourse Username is set correctly on your WordPress profile page.', 'wp-discourse' );\n                    break;\n                default:\n                    message = publishingError;\n            }\n\n            return <div className={ 'wpdc-publishing-response error' }>{ message }</div>;\n        }\n        return '';\n    }\n}\n\nclass DiscoursePermalink extends Component {\n    constructor( props ) {\n        super( props );\n    }\n\n    render() {\n        if ( this.props.discoursePermalink ) {\n            const permalink = encodeURI( this.props.discoursePermalink );\n            const link = <a href={ permalink } className={ 'wpdc-permalink-link' } target={ '_blank' } rel={'noreferrer noopener'}>{ permalink }</a>;\n            return <div className={ 'wpdc-permalink' }>{ __( 'Your post is linked with', 'wp-discourse' ) } { link }</div>;\n        }\n        return '';\n    }\n}\n\nclass PublishingOptions extends Component {\n    constructor( props ) {\n        super( props );\n\n        this.handleChange = this.handleChange.bind( this );\n    }\n\n    handleChange( e ) {\n        this.props.handlePublishMethodChange( e.target.value )\n    }\n\n    render() {\n        return (\n            <div className={ 'wpdc-publishing-options' }>\n                <h2 className={'wpdc-sidebar-title'}>{ __( 'Publishing Options', 'wp-discourse' ) }</h2>\n                <label>\n                    <input type='radio' name='wpdc_publish_options' value='publish_post'\n                           checked={'publish_post' === this.props.publishingMethod}\n                           onChange={this.handleChange}/>\n                    { __( 'New Topic', 'wp-discourse' ) }\n                </label>\n                <br/>\n                <label>\n                    <input type='radio' name='wpdc_publish_options' value='link_post'\n                           checked={ 'link_post' === this.props.publishingMethod }\n                           onChange={this.handleChange}/>\n                    { __( 'Link to Existing Topic', 'wp-discourse' ) }\n                </label>\n                <hr className={ 'wpdc-sidebar-hr' }/>\n            </div>\n        );\n    }\n}\n\nclass PublishToDiscourse extends Component {\n    constructor( props ) {\n        super( props );\n\n        this.handleToBePublishedChange = this.handleToBePublishedChange.bind( this );\n        this.handlePublishChange = this.handlePublishChange.bind( this );\n    }\n\n    handleToBePublishedChange( e ) {\n        this.props.handleToBePublishedChange( e.target.checked );\n    }\n\n    handlePublishChange( e ) {\n        this.props.handlePublishChange( e );\n    }\n\n    render() {\n        const publishToDiscourse = this.props.publishToDiscourse,\n            publishedOnWordPress = 'publish' === this.props.postStatus;\n\n        if ( !publishedOnWordPress ) {\n            return (\n                <div className={ 'wpdc-component-panel-body' }>\n                    <h2 className={ 'wpdc-sidebar-title' }>{ __( 'Publish to Discourse', 'wp-discourse' ) }</h2>\n                    <div className={ 'wpdc-publish-topic' }>\n                        <input type='checkBox' className={ 'wpdc-publish-topic-checkbox' }\n                               checked={ publishToDiscourse } onChange={ this.handleToBePublishedChange }/>\n                        { __( 'Publish', 'wp-discourse' ) }\n                        <p className={'wpdc-info'}>\n                            { __( 'Automatically publish the post to Discourse when it is published on WordPress.', 'wp-discourse' ) }\n                        </p>\n                    </div>\n                </div>\n            );\n        } else {\n            return (\n                <div className={'wpdc-component-panel-body'}>\n                    <h2 className={'wpdc-sidebar-title'}>{ __( 'Publish to Discourse', 'wp-discourse' ) }</h2>\n                    <button className={ this.props.busy ? activeButtonClass : buttonClass }\n                            onClick={this.handlePublishChange}>{ __( 'Publish to Discourse', 'wp-discourse' ) }\n                    </button>\n                </div>\n            );\n        }\n    }\n}\n\nclass CategorySelect extends Component {\n    constructor( props ) {\n        super( props );\n\n        this.handleChange = this.handleChange.bind( this );\n    }\n\n    handleChange( e ) {\n        this.props.handleCategoryChange( e.target.value );\n    }\n\n    render() {\n        if ( this.props.discourseCategories ) {\n            const cats = Object.values( this.props.discourseCategories );\n            const options = cats.map( ( cat ) =>\n                <option value={ cat.id }\n                        selected={ parseInt( this.props.category_id, 10 ) === parseInt( cat.id, 10 ) }>{ cat.name }</option>\n            );\n            return (\n                <div className={ 'wpdc-category-select wpdc-component-panel-body' }>\n                    <h2 className={ 'wpdc-sidebar-title' }>{__( 'Category', 'wp-discourse' ) }</h2>\n                    <select onChange={ this.handleChange } className={ 'widefat' }>\n                        { options }\n                    </select>\n                    <hr className={ 'wpdc-sidebar-hr' }/>\n                </div>\n            );\n        } else if ( this.props.categoryError ) {\n            return (\n                <div className={'wpdc-api-error error'}>{\n                    __( 'There was an error returning the category list from Discourse.', 'discourse-integration' ) }\n                </div>\n            )\n        } else {\n            return null;\n        }\n    }\n}\n\nclass LinkToDiscourseTopic extends Component {\n    constructor( props ) {\n        super( props );\n\n        this.state = {\n            isBusy: false,\n            topicUrl: null,\n        };\n\n        this.handleChange = this.handleChange.bind( this );\n        this.handleClick = this.handleClick.bind( this );\n    }\n\n    handleChange( e ) {\n        this.setState( { topicUrl: e.target.value } )\n    }\n\n    handleClick( e ) {\n        this.props.handleLinkTopicClick(this.state.topicUrl);\n    }\n\n    render() {\n        return (\n            <div className={ 'wpdc-link-post wpdc-component-panel-body' }>\n                <h2 className={ 'wpdc-sidebar-title' }>{ __( 'Topic URL', 'wp-discourse' ) }</h2>\n                <input\n                    type='url'\n                    className={ 'widefat wpdc-topic-url-input' }\n                    onChange={ this.handleChange }\n                    value={ this.state.topicUrl }\n                />\n\n                <button className={ this.props.busy ? activeButtonClass : buttonClass }\n                        onClick={ this.handleClick }>\n                    { __( 'Link With Discourse', 'wp-discourse' ) }\n                </button>\n            </div>\n        )\n    }\n}\n\nclass UnlinkFromDiscourse extends Component {\n    constructor( props ) {\n        super( props );\n        this.state = {\n            showPanel: false\n        };\n        this.handleClick = this.handleClick.bind( this );\n        this.togglePanel = this.togglePanel.bind( this );\n    }\n\n    handleClick( e ) {\n        this.props.handleUnlinkFromDiscourseChange( e );\n    }\n\n    togglePanel() {\n        this.setState( { showPanel: !this.state.showPanel } );\n    }\n\n    render() {\n        return (\n            <div className={ 'wpdc-component-panel-body' }>\n                <h2 className={ 'wpdc-panel-section-title' }>\n                    <button type='button' aria-expanded='false'\n                            className={ 'components-button components-panel__body-toggle' }\n                            onClick={ this.togglePanel }>\n                            <span aria-hidden='true'>\n                                { this.state.showPanel ? upArrow : downArrow }\n                            </span>\n                        { __( 'Unlink From Discourse', 'wp-discourse' ) }\n                    </button>\n                </h2>\n                <div className={ !this.state.showPanel ? 'hidden' : '' }>\n                    <p className={ 'wpdc-info' }>\n                        { __( 'Unlinking the post from Discourse will remove all Discourse metadata from the post.', 'wp-discourse' ) }\n                    </p>\n                    <button className={ this.props.busy ? activeButtonClass : buttonClass }\n                            onClick={ this.handleClick }>{ __( 'Unlink Post', 'wp-discourse' ) }\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass UpdateDiscourseTopic extends Component {\n    constructor( props ) {\n        super( props );\n        this.state = {\n            showPanel: false,\n        };\n        this.handleClick = this.handleClick.bind( this );\n        this.togglePanel = this.togglePanel.bind( this );\n    }\n\n    togglePanel() {\n        this.setState( { showPanel: !this.state.showPanel } );\n    }\n\n    handleClick( e ) {\n        this.props.handleUpdateChange( e );\n    }\n\n    render() {\n        return (\n            <div className={ 'wpdc-component-panel-body' }>\n                <h2 className={ 'wpdc-panel-section-title' }>\n                    <button type='button' aria-expanded='false'\n                            className={ 'components-button components-panel__body-toggle' }\n                            onClick={ this.togglePanel }>\n                            <span aria-hidden='true'>\n                                { this.state.showPanel ? upArrow : downArrow }\n                            </span>\n                        { __( 'Update Discourse Topic', 'wp-discourse' ) }\n                    </button>\n                </h2>\n                <div className={ !this.state.showPanel ? 'hidden' : '' }>\n                    <p className={ 'wpdc-info' }>\n                        { __( 'Update the Discourse topic to the lastest saved version of the post.', 'wp-discourse' ) }\n                    </p>\n                    <button className={ this.props.busy ? activeButtonClass : buttonClass }\n                            onClick={ this.handleClick }>\n                        { __( 'Update Topic', 'wp-discourse' ) }\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass TagTopic extends Component {\n    constructor( props ) {\n        super( props );\n\n        this.state = {\n            chosenTags: this.props.tags,\n            inputContent: '',\n            inputLength: 1,\n            maxTagsExceeded: false\n        };\n\n        this.handleKeyPress = this.handleKeyPress.bind( this );\n        this.handleChange = this.handleChange.bind( this );\n        this.handleClick = this.handleClick.bind( this );\n        this.focusInput = this.focusInput.bind( this );\n    }\n\n    focusInput( e ) {\n        this.tagInput.focus();\n    }\n\n    handleChange( e ) {\n        const val = e.target.value;\n        this.setState( {\n            inputContent: ',' === val ? '' : val,\n            inputLength: val.length === 0 ? 1 : val.length,\n        } );\n    }\n\n    handleKeyPress( e ) {\n        let keyVal = e.key,\n            val = e.target.value;\n\n        if ( 'Enter' === keyVal || ',' === keyVal ) {\n            let currentChoices = this.state.chosenTags;\n            if ( currentChoices.length >= this.props.maxTags ) {\n                this.setState( {\n                    maxTagsExceeded: true,\n                    inputContent: '',\n                } );\n                return null;\n            }\n\n            val = this.cleanTag(val);\n\n            if ( val.length ) {\n                currentChoices.push( val );\n                currentChoices = TagTopic.sanitizeArray( currentChoices );\n                this.setState( {\n                    chosenTags: currentChoices,\n                    inputContent: '',\n                }, () => {\n                    this.props.handleTagChange( currentChoices );\n                });\n            } else {\n                this.setState( {\n                    inputContent: '',\n                });\n            }\n        }\n    }\n\n    // see discourse/lib/discourse_tagging.rb#clean_tag\n    cleanTag( val ) {\n      val = val.trim(); // remove surrounding whitespace\n      val = val.replace( / /g, '-' ); // replace whitespace with hyphen\n      val = val.replace( /(-)\\1+/g, '-'); // remove duplicate hyphens\n      val = val.replace( new RegExp(tagsFilterRegExp, 'g'), '' ); // remove special characters\n      return val;\n    }\n\n    handleClick( key ) {\n        let tags = this.state.chosenTags,\n            index = tags.indexOf( key );\n        if ( index > -1 ) {\n            tags.splice( index, 1 );\n            this.setState( {\n                chosenTags: tags,\n                maxTagsExceeded: false\n            }, () => {\n                this.props.handleTagChange( tags );\n            });\n        }\n    }\n\n    static sanitizeArray( arr ) {\n        arr = arr.sort().reduce( ( accumulator, current ) => {\n            const length = accumulator.length;\n            if ( ( 0 === length || accumulator[length - 1] !== current) && current.trim() !== '' ) {\n                accumulator.push( current );\n            }\n            return accumulator;\n        }, [] );\n        return arr;\n    }\n\n    render() {\n        if ( this.props.allowTags ) {\n            let maxTagsNotice = this.state.maxTagsExceeded ? __( 'You have exceeded the maximum number of allowed tags for your site. Remove a tag to add more.', 'wp-discourse' ) : '';\n            let tagDisplay = TagTopic.sanitizeArray( this.state.chosenTags );\n            tagDisplay = tagDisplay.map( ( tag, index ) =>\n                <span className={ 'components-form-token-field__token' } key={ tag }>\n                    <span className={ 'components-form-token-field__token-text' }>\n                        <span className={ 'screen-reader-text' }>{ tag }</span>\n                        <span aria-hidden='true'>{ tag }</span>\n                    </span>\n                    <button type='button'\n                            aria-label='Remove Tag'\n                            className={ 'components-button components-icon-button components-form-token-field__remove-token' }\n                            onClick={ this.handleClick.bind( this, tag ) }\n                            key={ tag }\n                    >\n                        <svg aria-hidden='true'\n                             role='img'\n                             focusable='false'\n                             className={'dashicon dashicons-dismiss'}\n                             xmlns='http://www.w3.org/2000/svg'\n                             width='20' height='20' viewBox='0 0 20 20'>\n                            <path\n                                d={ 'M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm5 11l-3-3 3-3-2-2-3 3-3-3-2 2 3 3-3 3 2 2 3-3 3 3z' }/>\n                        </svg>\n                    </button>\n                </span>\n            );\n            return (\n                <div className={ 'wpdc-component-panel-body' }>\n                    <h2 className={ 'wpdc-sidebar-title' }>{__( 'Tags', 'wp-discourse' ) }</h2>\n                    <div className={ 'components-form-token-field__input-container' } onClick={ this.focusInput }>\n                        { tagDisplay }\n                        <input type={ 'text' }\n                               size={ this.state.inputLength }\n                               className={ 'components-form-token-field__input' }\n                               onChange={ this.handleChange }\n                               onKeyPress={ this.handleKeyPress }\n                               value={ this.state.inputContent }\n                               ref={ input => {\n                                   this.tagInput = input;\n                               } }\n                        />\n                    </div>\n                    <div className={ this.state.maxTagsExceeded ? 'wpdc-info' : ''}>\n                        { maxTagsNotice }\n                    </div>\n                    <hr className={ 'wpdc-sidebar-hr' }/>\n                </div>\n            );\n        } else {\n            return null;\n        }\n    }\n}\n\nclass PinTopic extends Component {\n    constructor( props ) {\n        super( props );\n\n        this.state = {\n            pinTopic: this.props.pinTopic,\n            pinUntil: this.props.pinUntil\n        };\n\n        this.handleUpdateDate = this.handleUpdateDate.bind( this );\n        this.handleToBePinnedChange = this.handleToBePinnedChange.bind( this );\n    }\n\n    handleUpdateDate( e ) {\n        this.setState( { pinUntil: e.target.value } );\n        this.props.handlePinChange( this.state.pinTopic, e.target.value )\n    }\n\n    handleToBePinnedChange( e ) {\n        this.setState( { pinTopic: e.target.checked } );\n        this.props.handlePinChange( e.target.checked, this.state.pinUntil );\n    }\n\n    render() {\n        return (\n            <div className={ 'wpdc-component-panel-body' }>\n                <h2 className={ 'wpdc-sidebar-title' }>{__( 'Pin Topic', 'wp-discourse' ) }</h2>\n                <label>\n                    <input type={ 'checkbox' } onChange={ this.handleToBePinnedChange } checked={ this.state.pinTopic }/>\n                    { __( 'Pin Discourse Topic', 'wp-discourse' ) }\n                </label>\n                <br/>\n                <label className={ 'wpdc-pin-until-input'}>\n                    { __( 'Pin Until', 'wp-discourse' ) }\n                    <br/>\n                    <input type={ 'date' } className={ 'widefat' } onChange={ this.handleUpdateDate } value={ this.state.pinUntil } />\n                </label>\n                <hr className={ 'wpdc-sidebar-hr' }/>\n            </div>\n        );\n    }\n}\n\nclass DiscourseSidebar extends Component {\n    constructor( props ) {\n        super( props );\n        this.state = this.initializePostState(this.props.post);\n        this.getDiscourseCategories();\n\n        this.handleToBePublishedChange = this.handleToBePublishedChange.bind( this );\n        this.handlePublishChange = this.handlePublishChange.bind( this );\n        this.handleCategoryChange = this.handleCategoryChange.bind( this );\n        this.handleTagChange = this.handleTagChange.bind( this );\n        this.handleUnlinkFromDiscourseChange = this.handleUnlinkFromDiscourseChange.bind( this );\n        this.handlePublishMethodChange = this.handlePublishMethodChange.bind( this );\n        this.handleUpdateChange = this.handleUpdateChange.bind( this );\n        this.handleLinkTopicClick = this.handleLinkTopicClick.bind( this );\n        this.handlePinChange = this.handlePinChange.bind( this );\n    }\n\n    componentDidUpdate(prevProps) {\n      if (this.isAllowedPostType()) {\n        if (this.publishedPostHasChanged(prevProps.post, this.props.post)) {\n          this.updatePostState(this.props.post);\n        }\n      }\n    }\n\n    publishedPostHasChanged(prev, post) {\n      if (!prev || !post || !prev.meta || !post.meta) return false;\n\n      // We don't refresh state if post is not yet published\n      if ([post.status, prev.status].every(s => s !== 'publish')) return false;\n\n      // We always refresh state on a status change\n      if (post.status !== prev.status) return true;\n\n      // We refresh state on publishing error or linked post change\n      return [\n        'discourse_post_id',\n        'wpdc_publishing_response',\n        'wpdc_publishing_error'\n      ].some(attr => post.meta[attr] !== prev.meta[attr]);\n    }\n\n    initializePostState(post) {\n      if (!this.isAllowedPostType()) {\n        return {};\n      }\n\n      let state = {\n        published: false,\n        postStatus: '',\n        publishingMethod: 'publish_post',\n        forcePublish: pluginOptions.forcePublish,\n        publishToDiscourse: pluginOptions.autoPublish,\n        publishPostCategory: pluginOptions.defaultCategory,\n        allowTags: pluginOptions.allowTags,\n        maxTags: pluginOptions.maxTags,\n        topicTags: [],\n        pinTopic: false,\n        pinUntil: null,\n        discoursePostId: null,\n        discoursePermalink: null,\n        publishingError: null,\n        busyUnlinking: false,\n        busyUpdating: false,\n        busyLinking: false,\n        busyPublishing: false,\n        statusMessage: null,\n        discourseCategories: null,\n        categoryError: false,\n      }\n\n      if (post && post.meta) {\n        state = Object.assign(state, this.buildPostState(post));\n      }\n\n      return state;\n    }\n\n    updatePostState(post) {\n      this.setState(this.buildPostState(post));\n    }\n\n    buildPostState(post) {\n      if (!post || !post.meta) return {};\n\n      const meta = post.meta;\n      const topicTags = typeof meta.wpdc_topic_tags === 'string' ?\n        meta.wpdc_topic_tags.split(',') :\n        [];\n\n      let postState = {\n        publishToDiscourse: this.determinePublishToDiscourse(meta),\n        published: meta.discourse_post_id > 0,\n        postStatus: post.status,\n        topicTags,\n        pinTopic: meta.wpdc_pin_topic > 0\n      };\n\n      if (meta.publish_post_category > 0) {\n        postState.publishPostCategory = meta.publish_post_category;\n      }\n      if (meta.wpdc_pin_until) {\n        postState.pinUntil = meta.wpdc_pin_until;\n      }\n      if (meta.discourse_post_id) {\n        postState.discoursePostId = meta.discourse_post_id;\n      }\n      if (meta.discourse_permalink) {\n        postState.discoursePermalink = meta.discourse_permalink;\n      }\n      if (meta.wpdc_publishing_error) {\n        postState.publishingError = meta.wpdc_publishing_error;\n      }\n\n      return postState;\n    }\n\n    determinePublishToDiscourse(meta) {\n      const autoPublish = pluginOptions.autoPublish,\n            autoPublishOverridden = 1 === parseInt(meta.wpdc_auto_publish_overridden, 10);\n\n      let publishToDiscourse;\n\n      if (['deleted_topic','queued_topic'].includes(meta.wpdc_publishing_error)) {\n        publishToDiscourse = false;\n      } else if (autoPublish && !autoPublishOverridden) {\n        publishToDiscourse = true;\n      } else {\n        publishToDiscourse = 1 === parseInt(meta.wpdc_publish_to_discourse, 10);\n      }\n\n      return publishToDiscourse;\n    }\n\n    getDiscourseCategories() {\n        if ( ! pluginOptions.pluginUnconfigured ) {\n            wp.apiRequest({\n                path: '/wp-discourse/v1/get-discourse-categories',\n                method: 'GET',\n                data: {\n                    get_categories_nonce: pluginOptions.get_categories_nonce,\n                    id: this.props.postId\n                },\n            }).then(\n                (data) => {\n                    this.setState({\n                            discourseCategories: data,\n                        }\n                    );\n                },\n                (err) => {\n                    this.setState( { categoryError: true } );\n                }\n            )\n        }\n    }\n\n    isAllowedPostType() {\n        return pluginOptions.allowedPostTypes.indexOf( this.props.post.type ) >= 0;\n    }\n\n    handlePublishMethodChange( publishingMethod ) {\n        this.setState( { publishingMethod: publishingMethod } );\n    }\n\n    handleToBePublishedChange( publishToDiscourse ) {\n        this.setState( {\n            publishToDiscourse: publishToDiscourse,\n            statusMessage: '',\n        }, () => {\n            wp.apiRequest( {\n                path: '/wp-discourse/v1/set-publish-meta',\n                method: 'POST',\n                data: {\n                    set_publish_meta_nonce: pluginOptions.set_publish_meta_nonce,\n                    id: this.props.postId,\n                    publish_to_discourse: this.state.publishToDiscourse ? 1 : 0,\n                }\n            }).then(\n                ( data ) => {\n                    return null;\n                },\n                ( err ) => {\n                    return null;\n                }\n            );\n        });\n    }\n\n    handleCategoryChange( categoryId ) {\n        this.setState( { publishPostCategory: categoryId }, () => {\n            wp.apiRequest({\n                path: '/wp-discourse/v1/set-category-meta',\n                method: 'POST',\n                data: {\n                    set_category_meta_nonce: pluginOptions.set_category_meta_nonce,\n                    id: this.props.postId,\n                    publish_post_category: categoryId,\n                }\n            } ).then(\n                ( data ) => {\n                    return null;\n                },\n                ( err ) => {\n                    return null;\n                }\n            );\n        });\n    }\n\n    handlePinChange( pinTopic, pinUntil ) {\n        this.setState( {\n            pinTopic: pinTopic,\n            pinUntil: pinUntil\n        }, () => {\n            wp.apiRequest( {\n                path: '/wp-discourse/v1/set-pin-meta',\n                method: 'Post',\n                data: {\n                    set_pin_meta_nonce: pluginOptions.set_pin_meta_nonce,\n                    id: this.props.postId,\n                    wpdc_pin_topic: pinTopic ? 1 : 0,\n                    wpdc_pin_until: pinUntil\n                }\n            } ).then(\n                ( data ) => {\n                    return null;\n                },\n                ( err ) => {\n                    return null;\n            }\n            );\n        });\n    }\n\n    handleTagChange( tags ) {\n        this.setState( { topicTags: tags }, () => {\n            const tagString = tags.join( ',' );\n            wp.apiRequest( {\n                path: '/wp-discourse/v1/set-tag-meta',\n                method: 'POST',\n                data: {\n                    set_tag_meta_nonce: pluginOptions.set_tag_meta_nonce,\n                    id: this.props.postId,\n                    wpdc_topic_tags: tagString,\n                }\n            } ).then(\n                ( data ) => {\n                    return null;\n                },\n                ( err ) => {\n                    return null;\n                }\n            );\n        });\n    }\n\n    handleLinkTopicClick( topicUrl ) {\n        this.setState( {\n            busyLinking: true,\n            statusMessage: '',\n        });\n        wp.apiRequest( {\n            path: '/wp-discourse/v1/link-topic',\n            method: 'POST',\n            data: {\n                link_topic_nonce: pluginOptions.link_topic_nonce,\n                id: this.props.postId,\n                topic_url: topicUrl\n            }\n        }).then(\n            ( data ) => {\n                this.setState( {\n                    busyLinking: false,\n                } );\n\n                if ( data.discourse_permalink ) {\n                    this.setState( {\n                        published: true,\n                        discoursePermalink: data.discourse_permalink,\n                        publishingError: null,\n                    } );\n                } else {\n                    this.setState( {\n                        publishingError: __( 'There has been an error linking your post with Discourse.', 'wp-discourse' )\n                    });\n                }\n                return null;\n            },\n            ( err ) => {\n                const message = err.responseJSON && err.responseJSON.message ? err.responseJSON.message : __( 'There has been an error linking your post with Discourse.', 'wp-discourse' );\n                this.setState( {\n                    busyLinking: false,\n                    published: false,\n                    publishingError: message,\n                } );\n                return null;\n            }\n        );\n    }\n\n    handleUnlinkFromDiscourseChange( e ) {\n        this.setState({\n            busyUnlinking: true,\n            statusMessage: '',\n        });\n        wp.apiRequest( {\n            path: '/wp-discourse/v1/unlink-post',\n            method: 'POST',\n            data: {\n                unlink_post_nonce: pluginOptions.unlink_post_nonce,\n                id: this.props.postId\n            }\n        }).then(\n            ( data ) => {\n                this.setState( {\n                    busyUnlinking: false,\n                    published: false,\n                    publishingMethod: 'link_post',\n                    discoursePermalink: null,\n                    statusMessage: __( 'Your post has been unlinked from Discourse.', 'wp-discourse' )\n                });\n                return null;\n            },\n            ( err ) => {\n                return null;\n            }\n        );\n    }\n\n    handlePublishChange( e ) {\n        this.setState( {\n            busyPublishing: true,\n            statusMessage: '',\n        } );\n        wp.apiRequest( {\n            path: '/wp-discourse/v1/publish-topic',\n            method: 'POST',\n            data: {\n                publish_topic_nonce: pluginOptions.publish_topic_nonce,\n                id: this.props.postId\n            }\n        }).then(\n            ( data ) => {\n                const success = 'success' === data.publish_response;\n                this.setState( {\n                    busyPublishing: false,\n                    published: success,\n                    publishingError: success ? null : data.publish_response,\n                    publishingMethod: data.publish_response = 'Unprocessable Entity' ? 'link_post' : 'publish_post',\n                    discoursePermalink: data.discourse_permalink,\n                } );\n                return null;\n            },\n            ( err ) => {\n                const message = err.responseJSON && err.responseJSON.message ? err.responseJSON.message : __( 'There has been an error linking your post with Discourse.', 'wp-discourse' );\n                this.setState( {\n                    busyPublishing: false,\n                    published: false,\n                    publishingError: message,\n                } );\n                return null;\n            }\n        );\n    }\n\n    handleUpdateChange( e ) {\n        this.setState( {\n            busyUpdating: true,\n            statusMessage: '',\n        } );\n        wp.apiRequest( {\n            path: '/wp-discourse/v1/update-topic',\n            method: 'POST',\n            data: {\n                update_topic_nonce: pluginOptions.update_topic_nonce,\n                id: this.props.postId\n            }\n        }).then(\n            ( data ) => {\n                const response = data.update_response,\n                    success = 'success' === response;\n                let message;\n                if ( success ) {\n                    message = __( 'The Discourse topic has been updated!', 'wp-discourse' );\n                }\n                this.setState( {\n                    busyUpdating: false,\n                    statusMessage: message,\n                    publishingError: success ? null : data.update_response,\n                } );\n                return null;\n            },\n            ( err ) => {\n                const message = __( 'There was an error updating the Discourse topic.', 'wp-discourse' );\n                this.setState( {\n                    busyUpdating: false,\n                    statusMessage: message,\n                } );\n                return null;\n            }\n        );\n    }\n\n    render() {\n        if ( this.isAllowedPostType() ) {\n            const isPublished = this.state.published,\n                forcePublish = this.state.forcePublish,\n                pluginUnconfigured = pluginOptions.pluginUnconfigured;\n            let actions;\n            if ( pluginUnconfigured ) {\n                actions =\n                    <div className={ 'wpdc-plugin-unconfigured' }>\n                        { __( \"Before you can publish posts from WordPress to Discourse, you need to configure the plugin's Connection Settings tab.\", 'discourse-integration' ) }\n                    </div>\n            } else if ( !isPublished && !forcePublish ) {\n                actions =\n                    <div className={'wpdc-not-published'}>\n                        <PublishingOptions handlePublishMethodChange={ this.handlePublishMethodChange }\n                                           publishingMethod={ this.state.publishingMethod }\n                        />\n                        {'publish_post' === this.state.publishingMethod ? (\n                            <div className={ 'wpdc-publish-to-discourse' }>\n                                <CategorySelect\n                                    category_id={ this.state.publishPostCategory }\n                                    handleCategoryChange={ this.handleCategoryChange }\n                                    discourseCategories={ this.state.discourseCategories }\n                                    categoryError={ this.state.categoryError }\n                                />\n                                <TagTopic\n                                    handleTagChange={ this.handleTagChange }\n                                    tags={ this.state.topicTags }\n                                    allowTags={ this.state.allowTags }\n                                    maxTags={ this.state.maxTags }\n                                />\n                                <PinTopic\n                                    handlePinChange={ this.handlePinChange }\n                                    pinTopic={ this.state.pinTopic }\n                                    pinUntil={ this.state.pinUntil }\n                                />\n                                <PublishToDiscourse postStatus={ this.state.postStatus }\n                                                    publishToDiscourse={ this.state.publishToDiscourse }\n                                                    handleToBePublishedChange={ this.handleToBePublishedChange }\n                                                    handlePublishChange={ this.handlePublishChange }\n                                                    busy={ this.state.busyPublishing }\n                                />\n                            </div>\n                        ) : (\n                            <div className={ 'wpdc-link-to-discourse' }>\n                                <LinkToDiscourseTopic busy={ this.state.busyLinking }\n                                                      handleLinkTopicClick={ this.handleLinkTopicClick }\n                                />\n                            </div> ) }\n                    </div>\n            } else if ( !forcePublish ) {\n                actions =\n                    <div className={ 'wpdc-published-post' }>\n                        <UpdateDiscourseTopic\n                            published={ this.state.published }\n                            busy={ this.state.busyUpdating }\n                            handleUpdateChange={ this.handleUpdateChange }\n                            forcePublish={ this.state.forcePublish }\n                        />\n                        <UnlinkFromDiscourse\n                            published={ this.state.published }\n                            handleUnlinkFromDiscourseChange={ this.handleUnlinkFromDiscourseChange }\n                            busy={ this.state.busyUnlinking }\n                            forcePublish={ this.state.forcePublish }\n                        />\n                    </div>\n            } else {\n                actions = null;\n            }\n            return (\n                <Fragment>\n                    <PluginSidebarMoreMenuItem target='discourse-sidebar'>\n                        { __( 'Discourse', 'wp-discourse' ) }\n                    </PluginSidebarMoreMenuItem>\n                    <PluginSidebar name='discourse-sidebar' title={ __( 'Discourse', 'wp-discourse' ) }>\n                        <PanelBody>\n                            <div className={ 'wpdc-sidebar' }>\n                                <Notification\n                                    published={ this.state.published }\n                                    forcePublish={ this.state.forcePublish }\n                                    publishingError={ this.state.publishingError }\n                                    discoursePermalink={ this.state.discoursePermalink }\n                                    statusMessage={ this.state.statusMessage }\n                                />\n                                { actions }\n                            </div>\n                        </PanelBody>\n                    </PluginSidebar>\n                </Fragment>\n            );\n        } else {\n            return null;\n        }\n    }\n}\n\nconst HOC = withSelect( ( select, { forceIsSaving } ) => {\n    const {\n        getCurrentPostId,\n        getCurrentPost,\n    } = select( 'core/editor' );\n    return {\n        postId: getCurrentPostId(),\n        post: getCurrentPost(),\n    };\n})( DiscourseSidebar );\n\nregisterPlugin( 'discourse-sidebar', {\n    icon: iconEl,\n    render: HOC,\n} );\n","(function() { module.exports = window[\"wp\"][\"element\"]; }());"],"sourceRoot":""}